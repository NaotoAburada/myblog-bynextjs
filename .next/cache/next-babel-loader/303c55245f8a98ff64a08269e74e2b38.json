{"ast":null,"code":"var __jsx = React.createElement;\nimport React from \"react\";\nimport Container from \"../components/container\";\nimport ArticleList from \"../components/article-list\";\nimport Intro from \"../components/intro\";\nimport Layout from \"../components/layout\";\nimport Head from \"next/head\";\nimport { CMS_NAME } from \"../lib/constants\";\n\n//const Index: React.FC = ({}) => {\nconst Index = ({\n  allPosts\n}) => {\n  /*\n  const cmsurl = \"https://myblog-nextjs.microcms.io/api/v1/blog\";\n   // API呼び出しの準備\n  const fetcher = () =>\n    fetch(cmsurl, {\n      method: \"GET\",\n      headers: {\n        \"X-API-KEY\": \"c2bf30d3-1da2-45a3-8327-b992b9006af3\",\n      },\n    }).then((res) => res.json());\n   // SWRを使用してのAPI呼び出し\n  const { data, error } = useSWR<CMS, {}>(cmsurl, fetcher);\n   if (error) return <div>error</div>;\n  if (!data) return <div>loading...</div>;\n   const articleList = data.contents.reverse();\n  */\n  return __jsx(React.Fragment, null, __jsx(Layout, null, __jsx(Head, null, __jsx(\"title\", null, \"Next.js Blog Example with \", CMS_NAME)), __jsx(Container, null, __jsx(Intro, null), __jsx(\"h2\", {\n    className: \"mb-8 text-6xl md:text-7xl font-bold tracking-tighter leading-tight\"\n  }, \"Article List\"), allPosts.length > 0 && __jsx(ArticleList, {\n    posts: allPosts\n  }))));\n};\n\nexport default Index;\nexport async function getStaticProps() {\n  const cmsurl = \"https://myblog-nextjs.microcms.io/api/v1/blog\";\n  const res = await fetch(cmsurl, {\n    method: \"GET\",\n    headers: {\n      \"X-API-KEY\": \"c2bf30d3-1da2-45a3-8327-b992b9006af3\"\n    }\n  });\n  const posts = await res.json();\n  const articleList = posts.contents;\n  /*\n  const paths = articleList.map(\n    (article: PostType) => `/posts/${article.id.toString}`\n  );\n  */\n\n  return {\n    props: {\n      allPosts: articleList\n    }\n  };\n}\n/*\nexport const getStaticProps = async () => {\n  const allPosts = getAllPosts([\n    \"title\",\n    \"date\",\n    \"slug\",\n    \"author\",\n    \"coverImage\",\n    \"excerpt\",\n  ]);\n\n  return {\n    props: { allPosts },\n  };\n};\n*/","map":null,"metadata":{},"sourceType":"module"}